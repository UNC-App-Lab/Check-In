{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\iemai\\\\Documents\\\\UNC\\\\AppLab\\\\check-in\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\iemai\\\\Documents\\\\UNC\\\\AppLab\\\\check-in\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\iemai\\\\Documents\\\\UNC\\\\AppLab\\\\check-in\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\iemai\\\\Documents\\\\UNC\\\\AppLab\\\\check-in\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\iemai\\\\Documents\\\\UNC\\\\AppLab\\\\check-in\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React from'react';import axios from\"axios\";import'../App.css';import{confirmAlert}from'react-confirm-alert';// Import\nimport'react-confirm-alert/src/react-confirm-alert.css';// Import css\nvar CheckOut=/*#__PURE__*/function(_React$Component){_inherits(CheckOut,_React$Component);function CheckOut(){var _getPrototypeOf2;var _this;_classCallCheck(this,CheckOut);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(CheckOut)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={visitors:[]};_this.submit=function(obj){confirmAlert({customUI:function customUI(_ref){var onClose=_ref.onClose;return React.createElement(\"div\",{className:\"custom-ui\",class:\"dialogdiv\"},React.createElement(\"h1\",null,\"Are you sure you want to check out?\"),React.createElement(\"button\",{class:\"dialog\",onClick:function onClick(){_this.checkOut(obj);onClose();}},\"Yes\"),React.createElement(\"button\",{class:\"dialog\",onClick:onClose},\"No\"));}});};return _this;}_createClass(CheckOut,[{key:\"getVisitors\",value:function getVisitors(){var _this2=this;//axios.get('http://127.0.0.1:8000/api/checkins/')\naxios.get('https://app-lab-check-in.herokuapp.com/api/checkins/').then(function(res){var arr=res.data.filter(function(elem){return elem.checkedIn===true;});_this2.setState({visitors:arr});});}},{key:\"componentDidMount\",value:function componentDidMount(){this.getVisitors();}},{key:\"checkOut\",value:function checkOut(obj){// if clicked => mark checkedIn as false and set timeOut to current time\nvar today=new Date();var time=today.getHours()+\":\"+today.getMinutes();var item={name:obj.name,PID:obj.PID,date:obj.date,timeIn:obj.timeIn,timeOut:time,reason:obj.reason,checkedIn:false,staff:obj.staff};//axios.put(`http://127.0.0.1:8000/api/checkins/${obj.id}/`, item)\naxios.put(\"https://app-lab-check-in.herokuapp.com/api/checkins/\".concat(obj.id,\"/\"),item);// navigate back to home\nthis.props.history.push('');}},{key:\"render\",value:function render(){var _this3=this;var visitors=this.state.visitors;return React.createElement(\"div\",{class:\"checkout\"},React.createElement(\"h2\",null,\"Check Out\"),React.createElement(\"p\",null,\"Select your name to check out\"),React.createElement(\"div\",null,React.createElement(\"section\",null,visitors.map(function(data,index){return React.createElement(\"button\",{key:index,onClick:function onClick(){return _this3.submit(data);}},React.createElement(\"p\",null,data.name),React.createElement(\"p\",null,data.PID));}))));}}]);return CheckOut;}(React.Component);export{CheckOut as default};","map":{"version":3,"sources":["C:/Users/iemai/Documents/UNC/AppLab/check-in/src/Screens/CheckOut.js"],"names":["React","axios","confirmAlert","CheckOut","state","visitors","submit","obj","customUI","onClose","checkOut","get","then","res","arr","data","filter","elem","checkedIn","setState","getVisitors","today","Date","time","getHours","getMinutes","item","name","PID","date","timeIn","timeOut","reason","staff","put","id","props","history","push","map","index","Component"],"mappings":"o3BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,YAAP,CACA,OAASC,YAAT,KAA6B,qBAA7B,CAAoD;AACpD,MAAO,iDAAP,CAA0D;GAGrCC,CAAAA,Q,mZAEjBC,K,CAAQ,CAAEC,QAAQ,CAAE,EAAZ,C,OAgBRC,M,CAAS,SAACC,GAAD,CAAS,CACdL,YAAY,CAAC,CACTM,QAAQ,CAAE,uBAAiB,IAAdC,CAAAA,OAAc,MAAdA,OAAc,CACzB,MACE,4BAAK,SAAS,CAAC,WAAf,CAA2B,KAAK,CAAC,WAAjC,EACE,oEADF,CAEE,8BAAQ,KAAK,CAAC,QAAd,CAAuB,OAAO,CAAE,kBAAM,CAAC,MAAKC,QAAL,CAAcH,GAAd,EAAoBE,OAAO,GAAI,CAAtE,QAFF,CAKE,8BAAQ,KAAK,CAAC,QAAd,CAAuB,OAAO,CAAEA,OAAhC,OALF,CADF,CASD,CAXQ,CAAD,CAAZ,CAaD,C,qFA5BW,iBACV;AACAR,KAAK,CAACU,GAAN,CAAU,sDAAV,EACKC,IADL,CACU,SAAAC,GAAG,CAAI,CACT,GAAIC,CAAAA,GAAG,CAAGD,GAAG,CAACE,IAAJ,CAASC,MAAT,CAAgB,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACC,SAAL,GAAmB,IAAvB,EAApB,CAAV,CACA,MAAI,CAACC,QAAL,CAAc,CAAEd,QAAQ,CAAES,GAAZ,CAAd,EACH,CAJL,EAKH,C,6DAEmB,CAChB,KAAKM,WAAL,GACH,C,0CAmBQb,G,CAAK,CAEV;AACA,GAAIc,CAAAA,KAAK,CAAG,GAAIC,CAAAA,IAAJ,EAAZ,CACA,GAAIC,CAAAA,IAAI,CAAGF,KAAK,CAACG,QAAN,GAAmB,GAAnB,CAAyBH,KAAK,CAACI,UAAN,EAApC,CAEA,GAAMC,CAAAA,IAAI,CAAG,CACTC,IAAI,CAAEpB,GAAG,CAACoB,IADD,CAETC,GAAG,CAAErB,GAAG,CAACqB,GAFA,CAGTC,IAAI,CAAEtB,GAAG,CAACsB,IAHD,CAITC,MAAM,CAAEvB,GAAG,CAACuB,MAJH,CAKTC,OAAO,CAAER,IALA,CAMTS,MAAM,CAAEzB,GAAG,CAACyB,MANH,CAOTd,SAAS,CAAE,KAPF,CAQTe,KAAK,CAAE1B,GAAG,CAAC0B,KARF,CAAb,CAWA;AACAhC,KAAK,CAACiC,GAAN,+DAAiE3B,GAAG,CAAC4B,EAArE,MAA4ET,IAA5E,EAEA;AACA,KAAKU,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,EAAxB,EACH,C,uCAEQ,oBACCjC,CAAAA,QADD,CACc,KAAKD,KADnB,CACCC,QADD,CAGL,MACI,4BAAK,KAAK,CAAC,UAAX,EACI,0CADJ,CAEI,6DAFJ,CAGI,+BACI,mCACKA,QAAQ,CAACkC,GAAT,CAAa,SAACxB,IAAD,CAAOyB,KAAP,QACV,+BAAQ,GAAG,CAAEA,KAAb,CAAoB,OAAO,CAAE,yBAAM,CAAA,MAAI,CAAClC,MAAL,CAAYS,IAAZ,CAAN,EAA7B,EACI,6BAAIA,IAAI,CAACY,IAAT,CADJ,CAEI,6BAAIZ,IAAI,CAACa,GAAT,CAFJ,CADU,EAAb,CADL,CADJ,CAHJ,CADJ,CAgBH,C,sBA7EiC5B,KAAK,CAACyC,S,SAAvBtC,Q","sourcesContent":["import React from 'react';\r\nimport axios from \"axios\";\r\nimport '../App.css';\r\nimport { confirmAlert } from 'react-confirm-alert'; // Import\r\nimport 'react-confirm-alert/src/react-confirm-alert.css'; // Import css\r\n\r\n\r\nexport default class CheckOut extends React.Component {\r\n\r\n    state = { visitors: [] };\r\n\r\n    getVisitors() {\r\n        //axios.get('http://127.0.0.1:8000/api/checkins/')\r\n        axios.get('https://app-lab-check-in.herokuapp.com/api/checkins/')\r\n            .then(res => {\r\n                let arr = res.data.filter(elem => elem.checkedIn === true)\r\n                this.setState({ visitors: arr });\r\n            })\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getVisitors();\r\n    }\r\n\r\n\r\n    submit = (obj) => {\r\n        confirmAlert({\r\n            customUI: ({ onClose }) => {\r\n              return (\r\n                <div className='custom-ui' class=\"dialogdiv\">\r\n                  <h1>Are you sure you want to check out?</h1>\r\n                  <button class=\"dialog\" onClick={() => {this.checkOut(obj); onClose();}}>\r\n                    Yes\r\n                  </button>\r\n                  <button class=\"dialog\" onClick={onClose}>No</button>\r\n                </div>\r\n              );\r\n            }\r\n          });\r\n      };\r\n\r\n    checkOut(obj) {\r\n        \r\n        // if clicked => mark checkedIn as false and set timeOut to current time\r\n        var today = new Date();\r\n        var time = today.getHours() + \":\" + today.getMinutes();\r\n\r\n        const item = {\r\n            name: obj.name,\r\n            PID: obj.PID,\r\n            date: obj.date,\r\n            timeIn: obj.timeIn,\r\n            timeOut: time,\r\n            reason: obj.reason,\r\n            checkedIn: false,\r\n            staff: obj.staff\r\n        };\r\n\r\n        //axios.put(`http://127.0.0.1:8000/api/checkins/${obj.id}/`, item)\r\n        axios.put(`https://app-lab-check-in.herokuapp.com/api/checkins/${obj.id}/`, item)\r\n\r\n        // navigate back to home\r\n        this.props.history.push('');\r\n    }\r\n\r\n    render() {\r\n        let { visitors } = this.state;\r\n\r\n        return (\r\n            <div class=\"checkout\">\r\n                <h2>Check Out</h2>\r\n                <p>Select your name to check out</p>\r\n                <div>\r\n                    <section>\r\n                        {visitors.map((data, index) => (\r\n                            <button key={index} onClick={() => this.submit(data)}>\r\n                                <p>{data.name}</p>\r\n                                <p>{data.PID}</p>\r\n                            </button>\r\n                        ))}\r\n                    </section>\r\n                </div>\r\n            </div >\r\n        );\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}